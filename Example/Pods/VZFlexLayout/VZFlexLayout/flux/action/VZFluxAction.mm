//
//  VZFluxAction.m
//  O2OReact
//
//  Created by moxin on 16/6/2.
//  Copyright © 2016年 Alipay. All rights reserved.
//

#import "VZFluxAction.h"
#import "VZFluxAppDispatcher.h"
#import "VZFluxDispatcher.h"

namespace VZ {

    void FluxAction::send(FluxAction action) {
        
        if ([action.dispatcher isKindOfClass:[VZFluxDispatcher class]]) {
            VZFluxDispatcher* dispatcher = (VZFluxDispatcher* )action.dispatcher;
            [dispatcher dispatch:action mode:VZFStateUpdateModeSynchronous];
        }
        else{
            [[VZFluxAppDispatcher sharedInstance] handleAction:action];
        }
    }
}
